services:
  catalog-api:
    build:
      context: C:\Users\E4J2\source\repos\Bank
      dockerfile: src/microservices/CatalogMicroservice/Dockerfile
    depends_on:
      mongo:
        condition: service_started
    image: catalog
    ports:
    - published: 44326
      target: 80
  core-api:
    build:
      context: C:\Users\E4J2\source\repos\Bank
      dockerfile: src/microservices/CoreMicroservice/Dockerfile
    depends_on:
      mongo:
        condition: service_started
    image: core
    ports:
    - published: 44327
      target: 80
  envoygateway:
    build:
      context: C:\Users\E4J2\source\repos\Bank
      dockerfile: src/gateways/Envoy/Dockerfile
    depends_on:
      catalog-api:
        condition: service_started
      identity-api:
        condition: service_started
      mongo:
        condition: service_started
    image: envoygateway
    ports:
    - published: 5202
      target: 80
    - published: 15202
      target: 8001
    volumes:
    - C:\Users\E4J2\source\repos\Bank\src\gateways\Envoy:/etc/envoy:rw
  filemanager-api:
    build:
      context: C:\Users\E4J2\source\repos\Bank
      dockerfile: src/microservices/FileManagerMicroservice/Dockerfile
    image: filemanager
    ports:
    - published: 44328
      target: 80
  identity-api:
    build:
      context: C:\Users\E4J2\source\repos\Bank
      dockerfile: src/microservices/IdentityMicroservice/Dockerfile
    depends_on:
      mongo:
        condition: service_started
    image: identity
    ports:
    - published: 44329
      target: 80
  mongo:
    container_name: mongo.bank
    image: mongo
    ports:
    - published: 27017
      target: 27017
version: '3.4'